<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>SAML V2.0 Interoperability Deployment Profile</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<meta name="keywords" content="SAML">
<style>
body {
  background-image: url("./kantara400.png");
  background-attachment: scroll;;
  background-position: center 1.5em;
  background-size: 280px;
  background-repeat: no-repeat;
  margin-top: 150px;
}

div.sect1 > h2, div#toctitle {
  color: black;
  font-size: 130%;
  line-height: 21pt;
  font-weight: bold;
}
div.sect2 > h3 {
  color: black;
  font-size: 120%;
  line-height: 15pt;
  font-weight: bold;
}
div.sect3 > h4 {
  color: black;
  font-size: 110%;
  font-weight: bold;
}
.paragraph > div.title  {
  color: black;
  font-size: 110%;
  font-weight: bold;
}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<h1 style="color: blue; text-align: center; font-size: 150%; margin-bottom: 2em; font-weight: bold;">
SAML V2.0 Interoperability Deployment Profile V1.0 (Draft)
</h1>
<div class="paragraph">
<div class="title">Required Information</div>
<p>Document identifier: TBD</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_notation_and_terminology">2. Notation and Terminology</a>
<ul class="sectlevel2">
<li><a href="#_references_to_saml_2_0_specification">2.1. References to SAML 2.0 specification</a></li>
<li><a href="#_terminology">2.2. Terminology</a></li>
</ul>
</li>
<li><a href="#_common_requirements">3. Common Requirements</a>
<ul class="sectlevel2">
<li><a href="#_general">3.1. General</a></li>
<li><a href="#_metadata_and_trust_management">3.2. Metadata and Trust Management</a></li>
<li><a href="#_cryptographic_algorithms">3.3. Cryptographic Algorithms</a></li>
</ul>
</li>
<li><a href="#_service_provider_requirements">4. Service Provider Requirements</a>
<ul class="sectlevel2">
<li><a href="#_web_browser_sso">4.1. Web Browser SSO</a></li>
<li><a href="#_single_logout_2">4.2. Single Logout</a></li>
</ul>
</li>
<li><a href="#_identity_provider_requirements">5. Identity Provider Requirements</a>
<ul class="sectlevel2">
<li><a href="#_web_browser_sso_2">5.1. Web Browser SSO</a></li>
<li><a href="#_single_logout_3">5.2. Single Logout</a></li>
</ul>
</li>
<li><a href="#_normative_references">6. Normative References</a></li>
<li><a href="#_non_normative_references">7. Non-Normative References</a></li>
<li><a href="#_authors_addresses">8. Authors' addresses</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This profile specifies behavior and options that deployments of the SAML V2.0 Web Browser SSO Profile <a href="#SAML2Prof">[SAML2Prof]</a> are required or permitted to rely on. This revision, the first major rewrite of this material, reflects the input of many experienced implementers and deployers of this technology and best practice developed over 15 years of experience with varied approaches. While it has an emphasis on highly-scaled multi-lateral federation deployments involving thousands of Identity and Service Providers, most of these requirements are applicable to virtually any significant deployment of SAML SSO.</p>
</div>
<div class="paragraph">
<p>The requirements specified are in addition to all normative requirements of the original profile, as modified by the Approved Errata <a href="#SAML2Err">[SAML2Err]</a>, and readers should be familiar with all relevant reference documents. Any such requirements are not repeated here except where deemed necessary to highlight a point of discussion or draw attention to an issue addressed in errata, but remain implied.</p>
</div>
<div class="paragraph">
<p>This profile addresses the content, exchange, and processing of SAML messages only, and does not address deployment details that go beyond that scope. Furthermore, nothing in the profile should be taken to imply that disclosing personally identifiable information, or indeed any information, is required from an Identity Provider with respect to any particular Service Provider. That remains at the discretion of applicable settings, user consent, or other appropriate means in accordance with regulations and policies. However, this profile does obligate Identity Providers to honor certain key signals from a Service Provider in the area of subject identification and requires successful responses to include specific SAML Attributes under certain conditions. Failure is always an option.</p>
</div>
<div class="paragraph">
<p>Note that SAML features that are optional, or lack mandatory processing rules, are assumed to be optional and out of scope of this profile if not otherwise precluded or given specific processing rules.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notation_and_terminology">2. Notation and Terminology</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_references_to_saml_2_0_specification">2.1. References to SAML 2.0 specification</h3>
<div class="paragraph">
<p>When referring to elements from the SAML 2.0 core specification <a href="#SAML2Core">[SAML2Core]</a>, the following syntax is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;samlp:ProtocolElement&gt;</code> - for elements from the SAML 2.0 Protocol namespace.</p>
</li>
<li>
<p><code>&lt;saml:AssertionElement&gt;</code> - for elements from the SAML 2.0 Assertion namespace.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When referring to elements from the SAML 2.0 metadata specification <a href="#SAML2Meta">[SAML2Meta]</a>, the following syntax is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;md:MetadataElement&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When referring to elements from the Identity Provider Discovery Service Protocol and Profile <a href="#IdPDisco">[IdPDisco]</a>, the following syntax is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;idpdisc:DiscoveryResponse&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When referring to elements from the SAML 2.0 Metadata Extensions for Login and Discovery User Interface specification <a href="#SAML-Metadata-UI-V1.0">[SAML-Metadata-UI-V1.0]</a>, the following syntax is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;mdui:MetadataElement&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_terminology">2.2. Terminology</h3>
<div class="paragraph">
<p>The abbreviations IdP and SP are used below to refer to Identity Providers and Service Providers in the sense of their usage within the SAML Browser SSO Profile and Single Logout profiles.</p>
</div>
<div class="paragraph">
<p>Whether explicit or implicit, all the requirements in this document are meant to apply to deployments of SAML profiles and may involve explicit support for requirements by SAML-implementing software and/or supplemental support via application code. Deployments of a Service Provider may refer to both stand-alone implementations of SAML, libraries integrated with an application, or any combination of the two. It is difficult to define a clear boundary between a Service Provider and the application/service it represents, and unnecessary to do so for the purposes of this document.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_requirements">3. Common Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section includes material of general significance to both IdPs and SPs. Subsequent sections provide guidance specific to those roles.</p>
</div>
<div class="sect2">
<h3 id="_general">3.1. General</h3>
<div class="sect3">
<h4 id="_clock_skew">3.1.1. Clock Skew</h4>
<div class="paragraph">
<p>Deployments MUST allow for a minimum of three (3) and a maximum of five (5) minutes of clock skew&#8201;&#8212;&#8201;in either direction&#8201;&#8212;&#8201;when interpreting <code>xsd:dateTime</code> values in assertions and when enforcing security policies based thereupon.</p>
</div>
<div class="paragraph">
<p><em>The following is a non-exhaustive list of items to which this directive applies:</em> <code>NotBefore</code>, <code>NotOnOrAfter</code>, <em>and</em> <code>validUntil</code> <em>XML attributes found on</em> <code>Conditions</code>, <code>SubjectConfirmationData</code>, <code>LogoutRequest</code>, <code>EntityDescriptor</code>, <code>EntitiesDescriptor</code>, <code>RoleDescriptor</code>, <em>and</em> <code>AffiliationDescriptor</code> <em>elements.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_data_size">3.1.2. Data Size</h4>
<div class="paragraph">
<p>Unless otherwise specified, deployments MUST limit the size of all element and attribute content they produce to 256 characters. This applies in particular to the values within <code>&lt;saml:NameID&gt;</code> and <code>&lt;saml:AttributeValue&gt;</code> elements.</p>
</div>
</div>
<div class="sect3">
<h4 id="_document_type_definitions">3.1.3. Document Type Definitions</h4>
<div class="paragraph">
<p>Deployments MUST NOT produce any SAML protocol message that contains a (DTD) Document Type Definition. Deployments SHOULD reject messages that contain them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_saml_entityids">3.1.4. SAML entityIDs</h4>
<div class="paragraph">
<p>The entityID of a SAML entity MUST be scoped to the domain of the organization that is the owner of the application/service, in the case of an SP; or to the domain of the organization whose users are represented by the IdP, in the case of an IdP.</p>
</div>
<div class="paragraph">
<p><em>Specifically, hosted applications must have entityIDs scoped to the client organization&#8217;s domain, not the hosting organization&#8217;s domain.</em></p>
</div>
<div class="paragraph">
<p><em>An entityID should be chosen in a manner that minimizes the likelihood of it changing for political or technical reasons, including for example a change to a different software implementation.</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_profile_support">3.1.5. Profile Support</h4>
<div class="paragraph">
<p>Deployments MUST support the SAML V2.0 Web Browser SSO Profile and MUST support the SAML V2.0 Single Logout Profile as defined in <a href="#SAML2Prof">[SAML2Prof]</a> and as updated by <a href="#SAML2Err">[SAML2Err]</a>. Behavior of deployments MUST be consistent with the requirements specified in this deployment profile.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata_and_trust_management">3.2. Metadata and Trust Management</h3>
<div class="sect3">
<h4 id="_metadata_consumption_and_use">3.2.1. Metadata Consumption and Use</h4>
<div class="paragraph">
<p>Deployments MUST provision their behavior in the following areas based solely on the consumption of SAML Metadata <a href="#SAML2Meta">[SAML2Meta]</a> on an automated, periodic or real-time basis using (where applicable) the processing rules defined by the SAML Metadata Interoperability profile <a href="#MetaIOP">[MetaIOP]</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>indications of support for Browser SSO and Single Logout profiles</p>
</li>
<li>
<p>selection, determination, and verification of SAML endpoints and bindings</p>
</li>
<li>
<p>verification of XML signatures and TLS client and server certificates, and determination of trustworthiness of such keys</p>
</li>
<li>
<p>selection of XML Encryption key transport keys</p>
</li>
<li>
<p>determination of subject identifier SAML Attribute(s) to provide (per <code><a href="#SAML2SubjId">[SAML2SubjId]</a></code>)</p>
</li>
<li>
<p>TBD</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consumption of metadata MUST be subject to verification of a signature or TLS server certificate.</p>
</div>
<div class="sect4">
<h5 id="_metadata_validity">Metadata Validity</h5>
<div class="paragraph">
<p>Metadata without a <code>validUntil</code> attribute on its root element MUST be rejected. Metadata whose root element&#8217;s <code>validUntil</code> attribute extends beyond a deployer- or community-imposed threshold MUST be rejected.</p>
</div>
<div class="paragraph">
<p><em>These are critical (but very simple to implement) requirements for secure application of <code><a href="#MetaIOP">[MetaIOP]</a></code> because it is the method by which keys are revoked and the window of revocation is established.</em></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_production">3.2.2. Metadata Production</h4>
<div class="paragraph">
<p>Deployments MUST have the ability to provide SAML metadata capturing its requirements and characteristics in the areas identified above in a secure fashion, the specifics of which will necessarily vary by context and community. The use of services offering third-party validation, curation, signing, and publishing of metadata is a recommended, though not required, practice.</p>
</div>
<div class="paragraph">
<p>Deployments MUST NOT require out of band communication or coordination for the management of any behavior by peers that is included within the enumerated areas identified above.</p>
</div>
<div class="paragraph">
<p>This profile does not mandate any specific automated support for the production of metadata by a deployment. In fact, automatic generation of metadata has a strong tendency to undermine the correct functioning of peer deployments in the face of key rollover or changes to endpoints or other software features because it tends to change too suddenly to accommodate a graceful transition between states.</p>
</div>
<div class="paragraph">
<p>Metadata MUST NOT contain content that represents profile features that aren&#8217;t supported or that have not been deliberately and intentionally configured by a deployment.</p>
</div>
<div class="paragraph">
<p><em>As an example, deployments that lack support for, or have not tested and integrated an implementation&#8217;s support for, the Single Logout profile would necessarily omit <code>&lt;md:SingleLogoutService&gt;</code> elements. Similarly, deployments lacking support for the HTTP-Artifact binding <a href="#SAML2Bind">[SAML2Bind]</a> must omit such endpoints.</em></p>
</div>
<div class="sect4">
<h5 id="_keys_and_certificates">Keys and Certificates</h5>
<div class="paragraph">
<p>Public keys used for signing, encryption, and TLS client and server authentication MUST be expressed via X.509 certificates included in metadata via <code>&lt;md:KeyDescriptor&gt;</code> elements.</p>
</div>
<div class="paragraph">
<p>These certificates SHOULD be long-lived and self-signed. To avoid problems with non-conforming SAML implementations, certificates in metadata SHOULD NOT be expired (though deployments complying with this profile MUST accept expired certificates by virtue of <a href="#MetaIOP">[MetaIOP]</a>).</p>
</div>
<div class="paragraph">
<p>RSA public keys MUST be at least 2048 bits in length.</p>
</div>
<div class="paragraph">
<p>EC public keys MUST be at least TBD bits in length.</p>
</div>
<div class="paragraph">
<p>Certificates used MUST NOT be signed with an MD5-based signature algorithm and SHOULD NOT be signed with a SHA1-based signature algorithm.</p>
</div>
<div class="paragraph">
<p>By virtue of the profile&#8217;s overall requirements, an Identity Provider&#8217;s metadata MUST include at least one signing certificate (that is, an <code>&lt;md:KeyDescriptor&gt;</code> with no <code>use</code> attribute or one set to <code>signing</code>), and a Service Provider&#8217;s metadata MUST include at least one encryption certificate (that is, an <code>&lt;md:KeyDescriptor&gt;</code> with no <code>use</code> attribute or one set to <code>encryption</code>).</p>
</div>
</div>
<div class="sect4">
<h5 id="_discovery_and_user_interface_elements">Discovery and User Interface Elements</h5>
<div class="paragraph">
<p>Metadata MUST include the <code>&lt;mdui:DisplayName&gt;</code>, <code>&lt;mdui:Logo&gt;</code>, <code>&lt;mdui:InformationURL&gt;</code>, and <code>&lt;mdui:PrivacyStatementURL&gt;</code> elements.</p>
</div>
<div class="paragraph">
<p>The content of the <code>&lt;mdui:Logo&gt;</code> element MUST be either an <code>https</code> URL or an in-line image embedded an a data URI element.</p>
</div>
<div class="paragraph">
<p>At least one <code>&lt;mdui:Logo&gt;</code> element MUST have a <code>height</code> attribute of <code>60</code> and a <code>width</code> attribute of <code>80</code>.</p>
</div>
<div class="paragraph">
<p>An entity MAY include an <code>&lt;mdui:Logo&gt;</code> element with a <code>height</code> attribute of <code>16</code> and a <code>width</code> attribute of <code>16</code>.</p>
</div>
<div class="paragraph">
<p>Any logo referenced by an <code>&lt;mdui:Logo&gt;</code> element SHOULD have a transparent or white background and be in PNG format.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cryptographic_algorithms">3.3. Cryptographic Algorithms</h3>
<div class="paragraph">
<p>Deployments MUST default to the following algorithms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Digest</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#sha256" class="bare">http://www.w3.org/2001/04/xmlenc#sha256</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Signature</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" class="bare">http://www.w3.org/2001/04/xmldsig-more#rsa-sha256</a></code></code> <a href="#RFC4051">[RFC4051]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256" class="bare">http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256</a></code></code> <a href="#RFC4051">[RFC4051]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Block Encryption</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2009/xmlenc11#aes128-gcm" class="bare">http://www.w3.org/2009/xmlenc11#aes128-gcm</a></code></code> <a href="#XMLEnc11">[XMLEnc11]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2009/xmlenc11#aes256-gcm" class="bare">http://www.w3.org/2009/xmlenc11#aes256-gcm</a></code></code> <a href="#XMLEnc11">[XMLEnc11]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Key Transport</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p" class="bare">http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2009/xmlenc11#rsa-oaep" class="bare">http://www.w3.org/2009/xmlenc11#rsa-oaep</a></code></code> <a href="#XMLEnc11">[XMLEnc11]</a><br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>One of the following digest algorithms MUST be used in conjunction with the above key transport algorithms (the default mask generation function (MGF1 with SHA1) MUST be used):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#sha256" class="bare">http://www.w3.org/2001/04/xmlenc#sha256</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deployments SHOULD select digest, signature, and encryption algorithms on the basis of the Metadata Profile for Algorithm Support <code><a href="#MetaAlg">[MetaAlg]</a></code>. The above requirements provide acceptable defaults in the absence of any information (as is common) or in the event that these defaults are supported.</p>
</div>
<div class="paragraph">
<p>Deployments MUST NOT use any of the following security-compromised algorithms (even in the presence of the metadata extension indicating a peer supports them):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Digest</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmldsig-more#md5" class="bare">http://www.w3.org/2001/04/xmldsig-more#md5</a></code></code> <a href="#RFC4051">[RFC4051]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Signature</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmldsig-more#rsa-md5" class="bare">http://www.w3.org/2001/04/xmldsig-more#rsa-md5</a></code></code> <a href="#RFC4051">[RFC4051]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Block Encryption</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#aes128-cbc" class="bare">http://www.w3.org/2001/04/xmlenc#aes128-cbc</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#aes194-cbc" class="bare">http://www.w3.org/2001/04/xmlenc#aes194-cbc</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#aes256-cbc" class="bare">http://www.w3.org/2001/04/xmlenc#aes256-cbc</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#tripledes-cbc" class="bare">http://www.w3.org/2001/04/xmlenc#tripledes-cbc</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Key Transport</p>
<div class="ulist">
<ul>
<li>
<p><code><code><a href="http://www.w3.org/2001/04/xmlenc#rsa-1_5" class="bare">http://www.w3.org/2001/04/xmlenc#rsa-1_5</a></code></code> <a href="#XMLEnc">[XMLEnc]</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service_provider_requirements">4. Service Provider Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_web_browser_sso">4.1. Web Browser SSO</h3>
<div class="sect3">
<h4 id="_sp_initiated_sso">4.1.1. SP-Initiated SSO</h4>
<div class="paragraph">
<p>Service Providers must support the direct generation of authentication request messages conforming to the SAML Authentication Request Protocol <a href="#SAML2Core">[SAML2Core]</a>.</p>
</div>
<div class="paragraph">
<p>Service Providers that want to bypass user-initiated discovery SHOULD support the SP Request Initiation Profile and Protocol defined in <a href="#SAML2SPRIP">[SAML2SPRIP]</a>.</p>
</div>
<div class="paragraph">
<p>Service Providers MUST NOT require Identity Providers to support unsolicited responses (or so-called IdP-initiated SSO) <a href="#SAML2Prof">[SAML2Prof]</a> though they MAY support them as a voluntary means of bypassing discovery.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deep_linking">4.1.2. Deep Linking</h4>
<div class="paragraph">
<p>Applications that support deep linking and direct addressability of protected resources (the vast majority) MUST maintain support for such links during a Browser SSO profile interaction. That is, it MUST be possible to request an arbitrary protected resource and (authorization permitting) have it supplied as the result of a successful Browser SSO profile exchange.</p>
</div>
<div class="paragraph">
<p>It is RECOMMENDED that Service Providers support the preservation of POST bodies across a successful SSO profile exchange, subject to size limitations dictated by policy or implementation constraints.</p>
</div>
<div class="paragraph">
<p>The SAML binding-specific <code>RelayState</code> feature <a href="#SAML2Bind">[SAML2Bind]</a> is typically used to maintain the state information required to satisfy both of these requirements, the exact detail of which is left to implementations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_multiple_idps">4.1.3. Support for Multiple IdPs</h4>
<div class="paragraph">
<p>Service Providers MUST allow clients the option to authenticate specific resource URLs against more than one identity provider. <em>(This language is from the Impl Profile)</em></p>
</div>
<div class="paragraph">
<p>When more than one Identity Provider authenticates the same resource URL, IdP selection SHOULD be supported using the OASIS SSTC SAML v2.0 Identity Provider Discovery Profile <a href="#IdPDisco">[IdPDisco]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_requests">4.1.4. Requests</h4>
<div class="sect4">
<h5 id="_binding">Binding</h5>
<div class="paragraph">
<p>Service Providers MUST support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> for the transmission of <code>&lt;samlp:AuthnRequest&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_avoiding_frames">Avoiding Frames</h5>
<div class="paragraph">
<p>Requests MUST NOT be issued inside an HTML frame or via any mechanism that would require the use of third-party cookies by the Identity Provider to establish or recover a session with the user agent. This will typically imply that requests must involve a full-frame redirect, in order that the top level window origin be associated with the Identity Provider.</p>
</div>
</div>
<div class="sect4">
<h5 id="_request_content">Request Content</h5>
<div class="paragraph">
<p>The <code>&lt;samlp:AuthnRequest&gt;</code> message MUST either omit the <code>&lt;samlp:NameIDPolicy&gt;</code> element (RECOMMENDED), or the element MUST contain an <code>AllowCreate</code> attribute of "true" and MUST NOT contain a <code>Format</code> attribute.</p>
</div>
<div class="paragraph">
<p>The message MUST NOT contain an <code>AssertionConsumerServiceIndex</code> attribute (i.e., the desired endpoint MUST be the default, or identified via the <code>AssertionConsumerServiceURL</code> attribute).</p>
</div>
<div class="paragraph">
<p>The <code>AssertionConsumerServiceURL</code> value MUST match the location expressed in the Service Provider&#8217;s metadata exactly, without requiring URL canonicalization/normalization.</p>
</div>
<div class="paragraph">
<p><em>As an example, the Service Provider MUST NOT use a hostname with port number (such as <a href="https://sp.example.no:80/acs" class="bare">https://sp.example.no:80/acs</a>) in its request and without (such as <a href="https://sp.example.no/acs" class="bare">https://sp.example.no/acs</a>) in its metadata.</em></p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication_contexts">Authentication Contexts</h5>
<div class="paragraph">
<p>A Service Provider that does not require a specific <code>&lt;saml:AuthnContextClassRef&gt;</code> value MUST NOT include a <code>&lt;samlp:RequestedAuthnContext&gt;</code> element in its requests.</p>
</div>
<div class="paragraph">
<p>A Service Provider that requires specific <code>&lt;saml:AuthnContextClassRef&gt;</code> values MUST specify the allowable values in a <code>&lt;samlp:RequestedAuthnContext&gt;</code> element in its requests, with the <code>Comparison</code> attribute set to <code>exact</code>.</p>
</div>
<div class="paragraph">
<p><em>(Do we need the text below?)</em></p>
</div>
<div class="paragraph">
<p>An SP SHOULD only request a RequestedAuthnContext request in the presence of an arrangement between the Identity and Service Providers regarding the Authentication Context definitions in use.</p>
</div>
<div class="paragraph">
<p><em>(Do we want anything about error handling?)</em></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_responses">4.1.5. Responses</h4>
<div class="sect4">
<h5 id="_binding_2">Binding</h5>
<div class="paragraph">
<p>Service Providers MUST support the HTTP-POST binding for the receipt of <code>&lt;samlp:Response&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
<div class="paragraph">
<p>The endpoint(s) at which a Service Provider supports receipt of <code>&lt;samlp:Response&gt;</code> messages MUST be protected by TLS/SSL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_xml_encryption">XML Encryption</h5>
<div class="paragraph">
<p>Service Providers MUST support decryption of <code>&lt;saml:EncryptedAssertion&gt;</code> elements. Support for other encrypted constructs is OPTIONAL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_forced_re_authentication">Forced Re-Authentication</h5>
<div class="paragraph">
<p>Service Providers that include a <code>ForceAuthn</code> attribute of <code>true</code> in their requests SHOULD test the currency of the <code>AuthnInstant</code> element in the received assertions to verify the currency of the authentication event.</p>
</div>
<div class="paragraph">
<p><em>This is necessary because clients can freely generate requests that do not specify this attribute, potentially bypassing the SP&#8217;s intent.</em></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_subject_identification">4.1.6. Subject Identification</h4>
<div class="sect4">
<h5 id="_nameid_formats">NameID Formats</h5>
<div class="paragraph">
<p>Service Providers MUST support arbitrary <code>&lt;saml:NameID&gt;</code> elements regardless of <code>Format</code>, for the purposes of Single Logout.</p>
</div>
<div class="paragraph">
<p>Service Providers MUST NOT require the presence of a <code>&lt;saml:NameID&gt;</code> element and MUST NOT rely on the content of this element for long term identification of subjects;  <code>&lt;saml:Attribute&gt;</code> elements MUST be used for this purpose in the manner detailed below.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subject_identifiers">Subject Identifiers</h5>
<div class="paragraph">
<p>If a Service Provider requires persistent tracking/identification of its users (as most do), then it MUST support one or both of the SAML Attributes defined by <a href="#SAML2SubjId">[SAML2SubjId]</a> for this purpose.</p>
</div>
<div class="paragraph">
<p>If a Service Provider requires coordination and/or correlation of user activity between itself and other Service Providers, then the SAML Attribute named <code>urn:oasis:names:tc:SAML:attribute:subject-id</code> is appropriate. Otherwise the SAML Attribute named <code>urn:oasis:names:tc:SAML:attribute:pairwise-id</code> should be used.</p>
</div>
<div class="paragraph">
<p>Service Providers MAY support legacy or historical <code>&lt;saml:NameID&gt;</code> and <code>&lt;saml:Attribute&gt;</code> content for compatibility reasons but MUST NOT require their use.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subject_identifier_requirements_signaling">Subject Identifier Requirements Signaling</h5>
<div class="paragraph">
<p>A Service Provider MUST represent its identifier requirements in its SAML metadata, consistent with the Requirements Signaling mechanism defined in <a href="#SAML2SubjId">[SAML2SubjId]</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_displayable_identifiers">Displayable Identifiers</h5>
<div class="paragraph">
<p>The required identifier types above are opaque, unknown to users in most cases, and unsuitable for display.</p>
</div>
<div class="paragraph">
<p>Service Providers requiring the display of identifiers to users, the identification of other users via searching, selection, etc., and similar use cases SHOULD rely on additional suitable SAML Attributes such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>urn:oid:0.9.2342.19200300.100.1.3</code> (mail)</p>
</li>
<li>
<p><code>urn:oid:2.16.840.1.113730.3.1.241</code> (displayName)</p>
</li>
<li>
<p><code>urn:oid:2.5.4.42</code> (givenName)</p>
</li>
<li>
<p><code>urn:oid:2.5.4.4</code> (sn)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_identifier_scoping">Identifier Scoping</h5>
<div class="paragraph">
<p>Service Providers MUST prevent unintended identifier collisions in the values asserted by different Identity Providers, and the required identifier types above are "scoped" to fulfill this requirement.</p>
</div>
<div class="paragraph">
<p>Service Providers MUST associate identifier scopes with Identity Providers such that only authorized Identity Providers may assert identifiers in particular scopes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_attribute_value_constraints">4.1.7. Attribute Value Constraints</h4>
<div class="paragraph">
<p>When consuming SAML Attributes with standardized definitions in external specifications, Service Providers MUST NOT impose constraints beyond the definitions of those attributes.</p>
</div>
<div class="paragraph">
<p><em>This may imply supporting extra long attribute values, attributes that contain multiple values, broad character set support, etc. Maybe this is less critical with the subject ID changes?</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_and_trust_management_2">4.1.8. Metadata and Trust Management</h4>
<div class="sect4">
<h5 id="_key_and_certificate_rollover">Key and Certificate "Rollover"</h5>
<div class="paragraph">
<p>SP deployments MUST support multiple signing certificates in IdP metadata <em>(do we want more language? e.g., "and must be able to validate signed IdP assertions using either certificate.)</em> This makes it possible for the IdP to seamlessly migrate to a new signing key.</p>
</div>
<div class="paragraph">
<p>If the SP publishes an encryption certificate in metadata, the SP deployment MUST be configurable with multiple decryption keys <em>(and must be able to decrypt Assertions encrypted with either of those keys)</em>. This makes it possible for the SP to seamlessly migrate to a new decryption key.</p>
</div>
</div>
<div class="sect4">
<h5 id="_single_logout">Single Logout</h5>
<div class="paragraph">
<p>Service Providers MUST publish a <code>&lt;SingleLogoutService&gt;</code> endpoint in their metadata if the they issue Single Logout requests.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_single_logout_2">4.2. Single Logout</h3>
<div class="sect3">
<h4 id="_requests_2">4.2.1. Requests</h4>
<div class="sect4">
<h5 id="_binding_3">Binding</h5>
<div class="paragraph">
<p>Service Providers SHOULD support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> or the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> for the receipt of <code>&lt;samlp:LogoutRequest&gt;</code> or <code>&lt;samlp:LogoutResponse&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_responses_2">4.2.2. Responses</h4>
<div class="sect4">
<h5 id="_binding_4">Binding</h5>
<div class="paragraph">
<p>Service Providers SHOULD support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> or the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> for the transmission of <code>&lt;samlp:LogoutRequest&gt;</code> or <code>&lt;samlp:LogoutResponse&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_behavior">4.2.3. Behavior</h4>
<div class="paragraph">
<p>Service Providers MUST NOT expect to regain control of the user interface after a <code>&lt;samlp:LogoutRequest&gt;</code> is sent via an Asynchronous Binding (Front-Channel).</p>
</div>
</div>
<div class="sect3">
<h4 id="_http_virtual_hosts">4.2.4. HTTP Virtual Hosts</h4>
<div class="paragraph">
<p>When a single Service Provider (entityID) is used for multiple HTTP virtual hosts, the Service Provider SHOULD NOT publish any <code>&lt;SingleLogoutService&gt;</code> endpoints in its metadata.</p>
</div>
<div class="paragraph">
<p><em>A single entityID can only have one well-defined <code>&lt;SingleLogoutService&gt;</code> endpoint per binding. Cookies are domain-based and most often you can&#8217;t fully implement a logout on one virtual host if the Single Logout is sent to another virtual host. The <code>&lt;samlp:LogoutRequest&gt;</code> message cannot specify a specific endpoint.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_identity_provider_requirements">5. Identity Provider Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_web_browser_sso_2">5.1. Web Browser SSO</h3>
<div class="sect3">
<h4 id="_requests_3">5.1.1. Requests</h4>
<div class="sect4">
<h5 id="_binding_5">Binding</h5>
<div class="paragraph">
<p>Identity Providers MUST support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> for the receipt of <code>&lt;samlp:AuthnRequest&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_endpoint_verification">Endpoint verification.</h5>
<div class="paragraph">
<p>When verifying the <code>AssertionConsumerServiceURL</code>, it is RECOMMENDED that the Identity Provider perform a case-sensitive string comparison between the requested value and the values found in the Service Provider&#8217;s metadata. It is OPTIONAL to apply any form of URL canonicalization.</p>
</div>
</div>
<div class="sect4">
<h5 id="_forced_re_authentication_support">Forced Re-Authentication Support</h5>
<div class="paragraph">
<p>Identity Providers MUST ensure that any response to a <code>&lt;samlp:AuthnRequest&gt;</code> that contains the attribute <code>ForceAuthn</code> set to <code>true</code> results in an authentication challenge that requires proof that the subject is present. If this condition is met, the IdP MUST also reflect this success by setting the value of the <code>AuthnInstant</code> value in the assertion it generates to a fresh value.</p>
</div>
<div class="paragraph">
<p>If an Identity Provider cannot prove subject presence, then it MUST fail the authentication request and SHOULD respond to the Service Provider with a SAML error status.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_responses_3">5.1.2. Responses</h4>
<div class="sect4">
<h5 id="_binding_6">Binding</h5>
<div class="paragraph">
<p>Identity Providers MUST support the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> for the transmission of <code>&lt;samlp:Response&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_assertions">Assertions</h5>
<div class="paragraph">
<p>Successful response messages MUST contain one and only one SAML assertion.</p>
</div>
</div>
<div class="sect4">
<h5 id="_xml_encryption_2">XML Encryption</h5>
<div class="paragraph">
<p>In the event the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> is used, assertions MUST be encrypted and transmitted via a <code>&lt;saml:EncryptedAssertion&gt;</code> element. Information intended for the consumption of the Service Provider MUST NOT be further encrypted via <code>&lt;saml:EncryptedID&gt;</code> or <code>&lt;saml:EncryptedAttribute&gt;</code> constructs.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_subject_identifiers_2">5.1.3. Subject Identifiers</h4>
<div class="paragraph">
<p>Assertions MUST contain a <code>&lt;saml:NameID&gt;</code> element with the <code>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</code> format, as defined in <a href="#SAML2Core">[SAML2Core]</a>, for the purposes of logout.</p>
</div>
<div class="paragraph">
<p>Identity Providers SHOULD support one or both of the SAML Attributes defined by <a href="#SAML2SubjId">[SAML2SubjId]</a> for non-transient identification of subjects. Support for both is RECOMMENDED.</p>
</div>
<div class="sect4">
<h5 id="_subject_identifier_requirements_signaling_2">Subject Identifier Requirements Signaling</h5>
<div class="paragraph">
<p>Identity Providers MUST support the metadata-based identifier requirement signaling mechanism defined in <a href="#SAML2SubjId">[SAML2SubjId]</a>.</p>
</div>
<div class="paragraph">
<p>If an Identity Provider cannot or will not satisfy the requirements of a Service Provider in this respect, then it MUST fail the authentication request and SHOULD respond to the Service Provider with a SAML error status.</p>
</div>
<div class="paragraph">
<p>In the absence of any signaling by a Service Provider, an Identity Provider is free to supply either, both, or neither SAML Attribute, or to return an error as it sees fit.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_single_logout_3">5.2. Single Logout</h3>
<div class="sect3">
<h4 id="_requests_4">5.2.1. Requests</h4>
<div class="sect4">
<h5 id="_binding_7">Binding</h5>
<div class="paragraph">
<p>Identity Providers MUST support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> or the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> for the receipt of <code>&lt;samlp:LogoutRequest&gt;</code> or <code>&lt;samlp:LogoutResponse&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_responses_4">5.2.2. Responses</h4>
<div class="sect4">
<h5 id="_binding_8">Binding</h5>
<div class="paragraph">
<p>Identity Providers MUST support the HTTP-Redirect binding <a href="#SAML2Bind">[SAML2Bind]</a> or the HTTP-POST binding <a href="#SAML2Bind">[SAML2Bind]</a> for the transmission of <code>&lt;samlp:LogoutRequest&gt;</code> or <code>&lt;samlp:LogoutResponse&gt;</code> messages. Support for other bindings is OPTIONAL.</p>
</div>
</div>
<div class="sect4">
<h5 id="_status">Status</h5>
<div class="paragraph">
<p>When an Identity Provider cannot terminate the user&#8217;s Identity Provider session, it MUST respond to the original requester, if any, with a <code>&lt;samlp:LogoutResponse&gt;</code> message containing a top-level <code>&lt;saml:StatusCode&gt;</code> of <code>urn:oasis:names:tc:SAML:2.0:status:Responder</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_behavior_2">5.2.3. Behavior</h4>
<div class="paragraph">
<p>Identity Providers MUST do one of the following when receiving a SAML Logout request:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Terminate the user&#8217;s Identity Provider session and all Service Provider sessions for the user (Single Logout). The user should be informed that they have been logged out of everything. If possible, the user should be presented a list of the services from which they have been logged out.</p>
</li>
<li>
<p>Terminate the user&#8217;s Identity Provider session and as many Service Provider sessions for the user as possible (Partial Logout). The user should be informed that they have NOT been logged out of everything. If possible, the user should be presented a list of the services from which they have been logged out.</p>
</li>
<li>
<p>Terminate the user&#8217;s Identity Provider session only. The user should be informed that they have NOT been logged out of everything.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Identity Providers MAY display a confirmation page to the user before proceeding with logout.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_normative_references">6. Normative References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="RFC2119"></a>[RFC2119] IETF RFC 2119, Key words for use in RFCs to Indicate Requirement Levels, March 1997. <a href="http://www.ietf.org/rfc/rfc2119.txt" class="bare">http://www.ietf.org/rfc/rfc2119.txt</a></p>
</li>
<li>
<p><a id="RFC4051"></a>[RFC4051] IETF RFC 4051, Additional XML Security Uniform Resource Identifiers, April 2005. <a href="https://www.ietf.org/rfc/rfc4051.txt" class="bare">https://www.ietf.org/rfc/rfc4051.txt</a></p>
</li>
<li>
<p><a id="SAML2Core"></a>[SAML2Core] OASIS Standard, Assertions and Protocols for the OASIS Security Assertion Markup Language (SAML) V2.0, March 2005. <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf" class="bare">http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf</a></p>
</li>
<li>
<p><a id="SAML2Bind"></a>[SAML2Bind] OASIS Standard, Bindings for the OASIS Security Assertion Markup Language (SAML) V2.0, March 2005. <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf" class="bare">http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf</a></p>
</li>
<li>
<p><a id="SAML2Prof"></a>[SAML2Prof] OASIS Standard, Profiles for the OASIS Security Assertion Markup Language (SAML) V2.0, March 2005. <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf" class="bare">http://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf</a></p>
</li>
<li>
<p><a id="SAML2Meta"></a>[SAML2Meta] OASIS Standard, Metadata for the OASIS Security Assertion Markup Language (SAML) V2.0, March 2005. <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-metadata-2.0-os.pdf" class="bare">http://docs.oasis-open.org/security/saml/v2.0/saml-metadata-2.0-os.pdf</a></p>
</li>
<li>
<p><a id="X500SAMLattr"></a>[X500SAMLattr] OASIS Committee Draft, SAML V2.0 X.500/LDAP Attribute Profile, December 2006. <a href="http://docs.oasis-open.org/security/saml/SpecDrafts-Post2.0/sstc-saml-attribute-x500-cd-01.pdf" class="bare">http://docs.oasis-open.org/security/saml/SpecDrafts-Post2.0/sstc-saml-attribute-x500-cd-01.pdf</a></p>
</li>
<li>
<p><a id="MetaIOP"></a>[MetaIOP] OASIS Committee Specification, SAML V2.0 Metadata Interoperability Profile Version 1.0, August 2009. <a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-metadata-iop.pdf" class="bare">http://docs.oasis-open.org/security/saml/Post2.0/sstc-metadata-iop.pdf</a></p>
</li>
<li>
<p><a id="MetaAlg"></a>[MetaAlg] OASIS Committee Specification, SAML V2.0 Metadata Profile for Algorithm Support Version 1.0, February 2011. <a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-metadata-algsupport-v1.0-cs01.pdf" class="bare">http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-metadata-algsupport-v1.0-cs01.pdf</a></p>
</li>
<li>
<p><a id="IdPDisco"></a>[IdPDisco] OASIS Committee Specification, Identity Provider Discovery Service Protocol and Profile, March 2008. <a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-idp-discovery.pdf" class="bare">http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-idp-discovery.pdf</a></p>
</li>
<li>
<p><a id="SAML2Err"></a>[SAML2Err] OASIS Approved Errata, SAML Version 2.0 Errata 05, May 2012. <a href="http://docs.oasis-open.org/security/saml/v2.0/sstc-saml-approved-errata-2.0.pdf" class="bare">http://docs.oasis-open.org/security/saml/v2.0/sstc-saml-approved-errata-2.0.pdf</a></p>
</li>
<li>
<p><a id="XMLEnc"></a>[XMLEnc] D. Eastlake et al. XML Encryption Syntax and Processing. World Wide Web Consortium Recommendation, April 2013. <a href="https://www.w3.org/TR/xmlenc-core1/" class="bare">https://www.w3.org/TR/xmlenc-core1/</a></p>
</li>
<li>
<p><a id="XMLEnc11"></a>[XMLEnc11] D. Eastlake et al. XML Encryption Syntax and Processing Version 1.1. World Wide Web Consortium Last Call Working Draft. <a href="http://www.w3.org/TR/2010/WD-xmlenc-core1-20100513/" class="bare">http://www.w3.org/TR/2010/WD-xmlenc-core1-20100513/</a></p>
</li>
<li>
<p><a id="XMLSig"></a>[XMLSig] D. Eastlake et al. XML-Signature Syntax and Processing, Second Edition. World Wide Web Consortium Recommendation, June 2008. <a href="http://www.w3.org/TR/xmldsig-core/" class="bare">http://www.w3.org/TR/xmldsig-core/</a></p>
</li>
<li>
<p><a id="SAML2SubjId"></a>[SAML2SubjId] OASIS Committee Draft, SAMLV2.0 Subject Identifier Attributes Profile Version 1.0, September 2017.  <a href="https://www.oasis-open.org/committees/download.php/61575/saml-subject-id-attr-v1.0-wd03.pdf" class="bare">https://www.oasis-open.org/committees/download.php/61575/saml-subject-id-attr-v1.0-wd03.pdf</a></p>
</li>
<li>
<p><a id="SAML-Metadata-UI-V1.0"></a>[SAML-Metadata-UI-V1.0] OASIS Committee Specification, SAML V2.0 Metadata Extensions for Login and Discovery User Interface Version 1.0, 03 April 2012. <a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-metadata-ui/v1.0/cs01/sstc-saml-metadata-ui-v1.0-cs01.pdf" class="bare">http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-metadata-ui/v1.0/cs01/sstc-saml-metadata-ui-v1.0-cs01.pdf</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_non_normative_references">7. Non-Normative References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="eduPerson"></a>[eduPerson] eduPerson Object Class Specification. <a href="https://www.internet2.edu/products-services/trust-identity/eduperson-eduorg/" class="bare">https://www.internet2.edu/products-services/trust-identity/eduperson-eduorg/</a></p>
</li>
<li>
<p><a id="eduOrg"></a>[eduOrg] EduOrg Object Class Specification. <a href="https://www.internet2.edu/products-services/trust-identity/eduperson-eduorg/" class="bare">https://www.internet2.edu/products-services/trust-identity/eduperson-eduorg/</a></p>
</li>
<li>
<p><a id="IMI"></a>[IMI] OASIS Standard, Identity Metasystem Interoperability Version 1.0, July 2009. <a href="http://docs.oasis-open.org/imi/identity/v1.0/identity.html" class="bare">http://docs.oasis-open.org/imi/identity/v1.0/identity.html</a></p>
</li>
<li>
<p><a id="SAML2SPRIP"></a>[SAML2SPRIP] OASIS Committee Specification, Service Provider Request Initiation Protocol and Profile Version 1.0, November 2010. <a href="http://docs.oasis-open.org/security/saml/Post2.0/sstc-request-initiation.pdf" class="bare">http://docs.oasis-open.org/security/saml/Post2.0/sstc-request-initiation.pdf</a></p>
</li>
<li>
<p><a id="MACEAttrProf"></a>[MACEAttrProf] MACEDir Working Group Specification, MACEDir SAML Attribute Profiles, April 2008. <a href="http://macedir.org/docs/internet2-mace-dir-saml-attributes-latest.pdf" class="bare">http://macedir.org/docs/internet2-mace-dir-saml-attributes-latest.pdf</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authors_addresses">8. Authors' addresses</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Andreas Åkre Solberg, UNINETT, <a href="mailto:andreas.solberg@uninett.no">andreas.solberg@uninett.no</a></p>
</li>
<li>
<p>Scott Cantor, Ohio State University, <a href="mailto:cantor.2@osu.edu">cantor.2@osu.edu</a></p>
</li>
<li>
<p>Eve Maler, Sun Microsystems, <a href="mailto:eve.maler@sun.com">eve.maler@sun.com</a></p>
</li>
<li>
<p>Leif Johansson, Stockholm University, <a href="mailto:leifj@sunet.se">leifj@sunet.se</a></p>
</li>
<li>
<p>Jeff Hodges, Neustar, <a href="mailto:Jeff.Hodges@neustar.biz">Jeff.Hodges@neustar.biz</a></p>
</li>
<li>
<p>Ian Young, <a href="mailto:ian@iay.org.uk">ian@iay.org.uk</a></p>
</li>
<li>
<p>Nate Klingenstein, <a href="mailto:ndk@internet2.edu">ndk@internet2.edu</a></p>
</li>
<li>
<p>Bob Morgan, <a href="mailto:rlmorgan@washington.edu">rlmorgan@washington.edu</a></p>
</li>
<li>
<p>Keith Wessel, <a href="mailto:kwessel@illinois.edu">kwessel@illinois.edu</a></p>
</li>
<li>
<p>Eric Goodman, <a href="mailto:eric.goodman@ucop.edu">eric.goodman@ucop.edu</a></p>
</li>
<li>
<p>Andrew Morgan, <a href="mailto:morgan@orst.edu">morgan@orst.edu</a></p>
</li>
<li>
<p>Judith Bush, <a href="mailto:bushj@oclc.org">bushj@oclc.org</a></p>
</li>
<li>
<p>Thomas Lenggenhager, <a href="mailto:lenggenhager@switch.ch">lenggenhager@switch.ch</a></p>
</li>
<li>
<p>Alex Stuart, <a href="mailto:alex.stuart@jisc.ac.uk">alex.stuart@jisc.ac.uk</a></p>
</li>
<li>
<p>Keith Hazelton, <a href="mailto:keith.hazelton@wisc.edu">keith.hazelton@wisc.edu</a></p>
</li>
<li>
<p>Chris Phillips, <a href="mailto:chris.phillips@canarie.ca">chris.phillips@canarie.ca</a></p>
</li>
<li>
<p>Nick Roy, <a href="mailto:nroy@internet2.edu">nroy@internet2.edu</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-10-16 22:46:07 CEST
</div>
</div>
</body>
</html>